<!-- Navigation -->

<header class="navbar-light navbar-expand-lg fixed-top" style="top: 0;">

  <div class="container">

    <!-- Begin Logo -->
    <div class="row justify-content-center align-items-center brandrow">
      <div class="col-lg-4 col-md-4 col-xs-12 hidden-xs-down customarea">
        <a class="btn follow d-inline-block" href="https://twitter.com/wowthemesnet" target="blank"><i class="fa fa-twitter"></i>
          Follow</a>
        <div ngbDropdown class="d-inline-block">
          <a class="nav-link hand" id="languageSelcet" ngbDropdownToggle>
            <i class="fa fa-language"></i>
          </a>
          <div ngbDropdownMenu aria-labelledby="languageSelcet">
            <button class="dropdown-item">English</button>
            <button class="dropdown-item" onclick="selectLanguage()">Telugu</button>
            <button class="dropdown-item">Hindi</button>
          </div>
        </div>
      </div>
      <div class="col-lg-4 col-md-4  col-xs-12 text-center logoarea">
        <a class="navbar-brand d-block d-xs-none" href="/">Near News</a>
      </div>
      <div class="col-lg-4 col-md-4 mr-auto col-xs-12 text-right loginArea">
        <a class="nav-link hand d-inline-block" *ngIf="!userInformation?.name"
           (click)="openVerticallyCentered(content);showMenu =! showMenu">Login</a>
        <a class="nav-link hand d-inline-block" *ngIf="userInformation?.name" (click)="logout()">Logout</a>
      </div>

    </div>
    <!-- End Logo -->

    <div class="navarea">
      <nav class="navbar navbar-toggleable-sm">
        <a class="navbar-brand d-none d-xs-block" href="/">Near News</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
                aria-controls="navbarSupportedContent"
                aria-expanded="false" aria-label="Toggle navigation" (click)="showMenu =! showMenu">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse"  [ngClass]="{'collapse' : showMenu ,'' : !showMenu }"
             id="navbarSupportedContent">
          <ul class="navbar-nav col-md-12 justify-content-center">
            <li class="nav-item hand">
              <a *ngIf="userInformation?.name"
                 [ngClass]="{'active-link':dashboard}"
                 (click)="dashboardRedirect(userInformation)" class="nav-link">Dashboard</a>
            </li>
            <li class="nav-item hand">
              <a routerLink="/home" routerLinkActive="active-link" (click)="showMenu =! showMenu" class="nav-link">Home</a>
            </li>
            <li class="nav-item hand">
              <a routerLink="/about" routerLinkActive="active-link" (click)="showMenu =! showMenu" class="nav-link">About</a>
            </li>
          </ul>
        </div>
      </nav>

    </div>

  </div>

</header>

<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" *ngIf="isLogin">Login</h4>
    <h4 class="modal-title" *ngIf="isRegister">Registration Form</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true" class="fa fa-times"></span>
    </button>
  </div>

  <div class="modal-body">
    <div *ngIf="isLogin">
      <form [formGroup]="loginForm" (ngSubmit)="onLogin(loginForm,modal)">
        <div class="form-group">
          <label for="exampleInputEmail1">PhoneNum or Email</label>
          <input type="text" class="form-control" formControlName="user" id="exampleInputEmail1"
                 aria-describedby="emailHelp" placeholder="Enter email">

        </div>
        <div class="form-group">
          <label for="exampleInputPassword1">Password</label>
          <input type="password" class="form-control" formControlName="password" id="exampleInputPassword1"
                 placeholder="Password">
        </div>
        <div class="d-flex justify-content-between">
          <button type="submit" class="btn btn-primary">Login</button>
          <button type="button" class="btn btn-info" (click)="isRegister = true;isLogin = false;registrationForm()">
            Register
          </button>
        </div>
      </form>
    </div>
    <div *ngIf="isRegister">
      <form [formGroup]="registerForm" (ngSubmit)="onRegistration(registerForm)">
        <div class="form-group">
          <label for="name">Name</label>
          <input type="text" class="form-control" formControlName="name" id="name" placeholder="First Name"
                 [ngClass]="{ 'is-invalid':  registerForm.controls.name.errors && (registerForm.controls.name.touched || registerForm.controls.name.dirty) }">
          <div
            *ngIf="registerForm.controls.name.errors && (registerForm.controls.name.touched || registerForm.controls.name.dirty)"
            class="invalid-feedback">
            <div *ngIf="registerForm.controls.name.errors.required"> Name is required</div>
          </div>
        </div>
        <div class="form-group">
          <label for="emailId">Email address</label>
          <input type="email" class="form-control" formControlName="emailId" id="emailId" placeholder="Email address"
                 [ngClass]="{ 'is-invalid':  registerForm.controls.emailId.errors && (registerForm.controls.emailId.touched || registerForm.controls.emailId.dirty) }"
                 (blur)="onBlurMethod($event)">
          <div
            *ngIf="registerForm.controls.emailId.errors && (registerForm.controls.emailId.touched || registerForm.controls.emailId.dirty)"
            class="invalid-feedback">
            <div *ngIf="registerForm.controls.emailId.errors.required">First Name is required</div>
          </div>
        </div>
        <div class="form-group">
          <label for="phoneNum">Phone Number</label>
          <input type="text" class="form-control" formControlName="phoneNum" id="phoneNum" placeholder="Phone Number"
                 [ngClass]="{ 'is-invalid':  registerForm.controls.phoneNum.errors && (registerForm.controls.phoneNum.touched || registerForm.controls.phoneNum.dirty) }"
                 (blur)="onBlurMethod($event)">
          <div
            *ngIf="registerForm.controls.phoneNum.errors && (registerForm.controls.phoneNum.touched || registerForm.controls.phoneNum.dirty)"
            class="invalid-feedback">
            <div *ngIf="registerForm.controls.phoneNum.errors.required">First Name is required</div>
          </div>
        </div>
        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" class="form-control" formControlName="password" id="password" placeholder="Password"
                 [ngClass]="{ 'is-invalid':  registerForm.controls.password.errors && (registerForm.controls.password.touched || registerForm.controls.password.dirty) }">
          <div
            *ngIf="registerForm.controls.password.errors && (registerForm.controls.password.touched || registerForm.controls.password.dirty)"
            class="invalid-feedback">
            <div *ngIf="registerForm.controls.password.errors.required">First Name is required</div>
          </div>
        </div>
        <div class="form-group">
          <ngx-recaptcha2
            [siteKey]="siteKey"
            [size]="'Normal'"
            [hl]="'en'"
            [theme]="'Light'"
            [type]="'Image'"
            (success)="handleSuccess($event)"
            formControlName="recaptchaResp">
          </ngx-recaptcha2>
        </div>
        <div class="d-flex justify-content-between">
          <button type="button" class="btn btn-info" (click)="isRegister = false;isLogin = true; loginformDetails()">
            Login
          </button>
          <button type="submit" class="btn btn-primary">Register</button>
        </div>
      </form>
    </div>
  </div>

  <div class="modal-footer">
    <button type="button" class="btn btn-light" (click)="modal.close('Close click')">Close</button>
  </div>
</ng-template>

<ng-template #authenticatePopUp let-alertmodal>
  <div class="modal-header">
    <h4 class="modal-title">Want to post ?</h4>
    <button type="button" class="close" aria-label="Close" (click)="alertmodal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <p>Complete simple registration</p>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-light" (click)="goToRegister(content, alertmodal)">Go to register</button>
  </div>
</ng-template>
